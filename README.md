# Zonkeyの概要

Zonkeyは、Goyakey氏が開発・販売しているトラックボール・エンコーダー付きの無線分割キーボードです。<br>
<br>
firmwareは「zmk firmware」のみ対応しています。<br>
<br>
左右でバッテリーの消耗が異なるため、Zonkeyは、左手側に300mAh、右手側に500mAhを搭載しています。<br>
１日８時間の使用で１カ月使用出来る事を目安としています。<br>
<br>
Zonkeyは、PCやスマートフォン 等の様々な機器で使用されているリボバッテリーを利用しています。<br>
<br>
しかし、プラス側とマイナス側が接触すると発火し、火事の原因になります。<br>
充電は常に目の届く場所で行い、睡眠中 等の充電は行わないようにしてください。<br>
また、バッテリーに衝撃が加わると、バッテリーが破損し、発火する場合があります。<br>
取り扱い方法を遵守し、充電は常に目の届く場所で行い、睡眠中 等の充電は行わないようにしてください。<br>

# LEDの簡易表示

左右のマイコンのLEDでバッテリーの残量と有効なレイヤーを確認出来ます。<br>

## バッテリーの残量

スイッチをONにした際、バッテリーの残量の応じて緑・黄・赤で点滅します。<br>
残量が多いと緑、少ないと赤で点滅します。<br>

## 有効なレイヤー

各レイヤーに応じて、右手側のLEDのカラーが変わります。<br>

- レイヤー０・・・・・無灯
- レイヤー１・・・・・赤
- レイヤー２・・・・・緑
- レイヤー３・・・・・黄
- レイヤー４・・・・・濃青
- レイヤー５・・・・・紫
- レイヤー６・・・・・薄青

# zmk firmwareのカスタマイズ

Auto Mouse Layerの設定を大幅に変更しています。<br>

- zmk-pmw3610-driverからInput Processorへ変更
- Auto Mouse Layerの有効時間を10秒に変更
- 一部のキー（以下の19、20、21）の入力で0.8秒後に元のレイヤーに戻る様に変更
- 一部のキー（以下の19、20、21）以外の入力で直後に元のレイヤーに戻る様に変更
- キー入力後0.8秒間はAuto Mouse Layerが有効にならない様に変更

<img width="820" height="300" alt="image" src="https://github.com/user-attachments/assets/424fcc57-cd0c-4448-b937-c6edc064e07e" />

# トラブルシューティング

## bluetoothデバイスとして認識されない場合

settings_reset-seeeduino_xiao_ble-zmk.uf2の書き込みを再度行ってください。<br>

## トラックボールの反応が悪い場合

左右のリセットボタンを１度押し、再接続してください。<br>
トラックボールセンサーとケースの距離が少し変わる事でも反応が悪くなる事があります。<br>

## 一部のキーが反応しない場合

先ずは、スイッチのピンが折れていないか確認します。<br>
折れていない場合、ハンダの不良やスイッチを挿入後にハンダが外れる 等の原因が考えられます。<br>
